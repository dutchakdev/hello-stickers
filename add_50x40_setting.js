const fs = require('fs'); const path = require('path'); const home = require('os').homedir(); const dbPath = path.join(home, 'Library/Application Support/print2/db/database.json'); try { const data = JSON.parse(fs.readFileSync(dbPath, 'utf8')); const newSetting = { id: '3', size: '50x40', printerName: 'GD_41_LABEL', options: { media: 'Custom.50x40mm', orientation: 'portrait', margins: { top: 0, right: 0, bottom: 0, left: 0, units: 'mm' }, scale: 100, fitToPage: true, printScaling: 'fit' }, createdAt: new Date().toISOString(), updatedAt: new Date().toISOString() }; data.printerSettings.push(newSetting); fs.writeFileSync(dbPath, JSON.stringify(data, null, 2)); console.log('Added new printer setting for 50x40 size!'); } catch (error) { console.error('Error updating database:', error); }
